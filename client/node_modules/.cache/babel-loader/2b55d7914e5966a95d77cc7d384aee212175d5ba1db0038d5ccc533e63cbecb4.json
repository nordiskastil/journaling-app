{"ast":null,"code":"var _jsxFileName = \"D:\\\\Code Bootcamp Technigo\\\\Final-project\\\\journaling-app\\\\client\\\\src\\\\pages\\\\Routines.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useAuth } from '../context/AuthContext';\nimport headerImage from '../assets/Routines-illustration.png';\nimport './Routines.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Routines = () => {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [text, setText] = useState('');\n  const [date, setDate] = useState(new Date().toISOString().substring(0, 10));\n  const [tasks, setTasks] = useState(() => Array.from({\n    length: 10\n  }, (_, i) => ({\n    id: i + 1,\n    text: '',\n    checked: false\n  })));\n  useEffect(() => {\n    if (!user) return;\n    axios.get(`/api/routines/${user._id}/${date}`).then(res => {\n      const data = res.data || {};\n      setText(data.text || '');\n      setTasks(data.tasks || tasks);\n    }).catch(err => console.error(err));\n    // eslint-disable-next-line\n  }, [date, user]);\n  const handleTaskTextChange = (id, newText) => {\n    setTasks(prev => prev.map(task => task.id === id ? {\n      ...task,\n      text: newText.slice(0, 100)\n    } : task));\n  };\n  const handleTaskCheck = id => {\n    setTasks(prev => prev.map(task => task.id === id ? {\n      ...task,\n      checked: !task.checked\n    } : task));\n  };\n  const handleSave = () => {\n    if (!user) return;\n    axios.post('/api/routines', {\n      user: user._id,\n      date,\n      text,\n      tasks\n    }).then(() => alert('Routine saved!')).catch(err => console.error(err));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"routines-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"page-header-image\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: headerImage,\n        alt: \"Header\",\n        className: \"full-width-image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Daily Routine \\uD83D\\uDCC6\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"routine-description\",\n      children: \"Plan your day and set your intentions. What do you want to achieve today?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: date,\n      onChange: e => setDate(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"To-do List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"routine-list\",\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"task-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: task.checked,\n          onChange: () => handleTaskCheck(task.id)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: task.text,\n          onChange: e => handleTaskTextChange(task.id, e.target.value),\n          placeholder: `Task ${task.id}`,\n          maxLength: 100,\n          className: \"task-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this)]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Notes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: text,\n      onChange: e => setText(e.target.value),\n      placeholder: \"What\\u2019s your plan today?\",\n      rows: 10,\n      className: \"notes-textarea\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"routine-button\",\n      onClick: handleSave,\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Routines, \"lkjYlL5xPJRbw4Ns3xANg2oZMr0=\", false, function () {\n  return [useAuth];\n});\n_c = Routines;\nexport default Routines;\nvar _c;\n$RefreshReg$(_c, \"Routines\");","map":{"version":3,"names":["React","useState","useEffect","axios","useAuth","headerImage","jsxDEV","_jsxDEV","Routines","_s","user","text","setText","date","setDate","Date","toISOString","substring","tasks","setTasks","Array","from","length","_","i","id","checked","get","_id","then","res","data","catch","err","console","error","handleTaskTextChange","newText","prev","map","task","slice","handleTaskCheck","handleSave","post","alert","className","children","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","placeholder","maxLength","rows","onClick","_c","$RefreshReg$"],"sources":["D:/Code Bootcamp Technigo/Final-project/journaling-app/client/src/pages/Routines.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport headerImage from '../assets/Routines-illustration.png';\r\nimport './Routines.css';\r\n\r\nconst Routines = () => {\r\n  const { user } = useAuth();\r\n  const [text, setText] = useState('');\r\n  const [date, setDate] = useState(new Date().toISOString().substring(0, 10));\r\n  const [tasks, setTasks] = useState(() =>\r\n    Array.from({ length: 10 }, (_, i) => ({\r\n      id: i + 1,\r\n      text: '',\r\n      checked: false,\r\n    }))\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n\r\n    axios\r\n      .get(`/api/routines/${user._id}/${date}`)\r\n      .then((res) => {\r\n        const data = res.data || {};\r\n        setText(data.text || '');\r\n        setTasks(data.tasks || tasks);\r\n      })\r\n      .catch((err) => console.error(err));\r\n    // eslint-disable-next-line\r\n  }, [date, user]);\r\n\r\n  const handleTaskTextChange = (id, newText) => {\r\n    setTasks((prev) =>\r\n      prev.map((task) =>\r\n        task.id === id ? { ...task, text: newText.slice(0, 100) } : task\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleTaskCheck = (id) => {\r\n    setTasks((prev) =>\r\n      prev.map((task) =>\r\n        task.id === id ? { ...task, checked: !task.checked } : task\r\n      )\r\n    );\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (!user) return;\r\n\r\n    axios\r\n      .post('/api/routines', {\r\n        user: user._id,\r\n        date,\r\n        text,\r\n        tasks,\r\n      })\r\n      .then(() => alert('Routine saved!'))\r\n      .catch((err) => console.error(err));\r\n  };\r\n\r\n  return (\r\n    <div className=\"routines-page\">\r\n      <header className=\"page-header-image\">\r\n        <img src={headerImage} alt=\"Header\" className=\"full-width-image\" />\r\n      </header>\r\n\r\n      <h1>Daily Routine ðŸ“†</h1>\r\n      <p className=\"routine-description\">\r\n        Plan your day and set your intentions. What do you want to achieve today?\r\n      </p>\r\n\r\n      <input\r\n        type=\"date\"\r\n        value={date}\r\n        onChange={(e) => setDate(e.target.value)}\r\n      />\r\n\r\n      <h2>To-do List</h2>\r\n      <ul className=\"routine-list\">\r\n        {tasks.map((task) => (\r\n          <li key={task.id} className=\"task-row\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={task.checked}\r\n              onChange={() => handleTaskCheck(task.id)}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              value={task.text}\r\n              onChange={(e) => handleTaskTextChange(task.id, e.target.value)}\r\n              placeholder={`Task ${task.id}`}\r\n              maxLength={100}\r\n              className=\"task-input\"\r\n            />\r\n          </li>\r\n        ))}\r\n      </ul>\r\n\r\n      <h2>Notes</h2>\r\n      <textarea\r\n        value={text}\r\n        onChange={(e) => setText(e.target.value)}\r\n        placeholder=\"Whatâ€™s your plan today?\"\r\n        rows={10}\r\n        className=\"notes-textarea\"\r\n      />\r\n\r\n      <button className=\"routine-button\" onClick={handleSave}>\r\n        Save\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Routines;\r\n\r\n\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,wBAAwB;AAChD,OAAOC,WAAW,MAAM,qCAAqC;AAC7D,OAAO,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACrB,MAAM;IAAEC;EAAK,CAAC,GAAGN,OAAO,CAAC,CAAC;EAC1B,MAAM,CAACO,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACY,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAIc,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,CAACC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;EAC3E,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,MACjCmB,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAE;EAAG,CAAC,EAAE,CAACC,CAAC,EAAEC,CAAC,MAAM;IACpCC,EAAE,EAAED,CAAC,GAAG,CAAC;IACTb,IAAI,EAAE,EAAE;IACRe,OAAO,EAAE;EACX,CAAC,CAAC,CACJ,CAAC;EAEDxB,SAAS,CAAC,MAAM;IACd,IAAI,CAACQ,IAAI,EAAE;IAEXP,KAAK,CACFwB,GAAG,CAAC,iBAAiBjB,IAAI,CAACkB,GAAG,IAAIf,IAAI,EAAE,CAAC,CACxCgB,IAAI,CAAEC,GAAG,IAAK;MACb,MAAMC,IAAI,GAAGD,GAAG,CAACC,IAAI,IAAI,CAAC,CAAC;MAC3BnB,OAAO,CAACmB,IAAI,CAACpB,IAAI,IAAI,EAAE,CAAC;MACxBQ,QAAQ,CAACY,IAAI,CAACb,KAAK,IAAIA,KAAK,CAAC;IAC/B,CAAC,CAAC,CACDc,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;IACrC;EACF,CAAC,EAAE,CAACpB,IAAI,EAAEH,IAAI,CAAC,CAAC;EAEhB,MAAM0B,oBAAoB,GAAGA,CAACX,EAAE,EAAEY,OAAO,KAAK;IAC5ClB,QAAQ,CAAEmB,IAAI,IACZA,IAAI,CAACC,GAAG,CAAEC,IAAI,IACZA,IAAI,CAACf,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGe,IAAI;MAAE7B,IAAI,EAAE0B,OAAO,CAACI,KAAK,CAAC,CAAC,EAAE,GAAG;IAAE,CAAC,GAAGD,IAC9D,CACF,CAAC;EACH,CAAC;EAED,MAAME,eAAe,GAAIjB,EAAE,IAAK;IAC9BN,QAAQ,CAAEmB,IAAI,IACZA,IAAI,CAACC,GAAG,CAAEC,IAAI,IACZA,IAAI,CAACf,EAAE,KAAKA,EAAE,GAAG;MAAE,GAAGe,IAAI;MAAEd,OAAO,EAAE,CAACc,IAAI,CAACd;IAAQ,CAAC,GAAGc,IACzD,CACF,CAAC;EACH,CAAC;EAED,MAAMG,UAAU,GAAGA,CAAA,KAAM;IACvB,IAAI,CAACjC,IAAI,EAAE;IAEXP,KAAK,CACFyC,IAAI,CAAC,eAAe,EAAE;MACrBlC,IAAI,EAAEA,IAAI,CAACkB,GAAG;MACdf,IAAI;MACJF,IAAI;MACJO;IACF,CAAC,CAAC,CACDW,IAAI,CAAC,MAAMgB,KAAK,CAAC,gBAAgB,CAAC,CAAC,CACnCb,KAAK,CAAEC,GAAG,IAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC;EACvC,CAAC;EAED,oBACE1B,OAAA;IAAKuC,SAAS,EAAC,eAAe;IAAAC,QAAA,gBAC5BxC,OAAA;MAAQuC,SAAS,EAAC,mBAAmB;MAAAC,QAAA,eACnCxC,OAAA;QAAKyC,GAAG,EAAE3C,WAAY;QAAC4C,GAAG,EAAC,QAAQ;QAACH,SAAS,EAAC;MAAkB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC7D,CAAC,eAET9C,OAAA;MAAAwC,QAAA,EAAI;IAAgB;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACzB9C,OAAA;MAAGuC,SAAS,EAAC,qBAAqB;MAAAC,QAAA,EAAC;IAEnC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAEJ9C,OAAA;MACE+C,IAAI,EAAC,MAAM;MACXC,KAAK,EAAE1C,IAAK;MACZ2C,QAAQ,EAAGC,CAAC,IAAK3C,OAAO,CAAC2C,CAAC,CAACC,MAAM,CAACH,KAAK;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CAAC,eAEF9C,OAAA;MAAAwC,QAAA,EAAI;IAAU;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACnB9C,OAAA;MAAIuC,SAAS,EAAC,cAAc;MAAAC,QAAA,EACzB7B,KAAK,CAACqB,GAAG,CAAEC,IAAI,iBACdjC,OAAA;QAAkBuC,SAAS,EAAC,UAAU;QAAAC,QAAA,gBACpCxC,OAAA;UACE+C,IAAI,EAAC,UAAU;UACf5B,OAAO,EAAEc,IAAI,CAACd,OAAQ;UACtB8B,QAAQ,EAAEA,CAAA,KAAMd,eAAe,CAACF,IAAI,CAACf,EAAE;QAAE;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC1C,CAAC,eACF9C,OAAA;UACE+C,IAAI,EAAC,MAAM;UACXC,KAAK,EAAEf,IAAI,CAAC7B,IAAK;UACjB6C,QAAQ,EAAGC,CAAC,IAAKrB,oBAAoB,CAACI,IAAI,CAACf,EAAE,EAAEgC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC/DI,WAAW,EAAE,QAAQnB,IAAI,CAACf,EAAE,EAAG;UAC/BmC,SAAS,EAAE,GAAI;UACfd,SAAS,EAAC;QAAY;UAAAI,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB,CAAC;MAAA,GAbKb,IAAI,CAACf,EAAE;QAAAyB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAcZ,CACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC,eAEL9C,OAAA;MAAAwC,QAAA,EAAI;IAAK;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACd9C,OAAA;MACEgD,KAAK,EAAE5C,IAAK;MACZ6C,QAAQ,EAAGC,CAAC,IAAK7C,OAAO,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MACzCI,WAAW,EAAC,8BAAyB;MACrCE,IAAI,EAAE,EAAG;MACTf,SAAS,EAAC;IAAgB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CAAC,eAEF9C,OAAA;MAAQuC,SAAS,EAAC,gBAAgB;MAACgB,OAAO,EAAEnB,UAAW;MAAAI,QAAA,EAAC;IAExD;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAC5C,EAAA,CA5GID,QAAQ;EAAA,QACKJ,OAAO;AAAA;AAAA2D,EAAA,GADpBvD,QAAQ;AA8Gd,eAAeA,QAAQ;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}